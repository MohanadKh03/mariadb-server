create table t1 (a int, c int, key (a, c desc));
insert into t1 values (1, 9), (1, 6), (1, 3);
explain SELECT MAX(c), MIN(c) FROM t1 group by a;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	Extra
1	SIMPLE	t1	range	NULL	a	10	NULL	3	Using index for group-by
SELECT MAX(c), MIN(c) FROM t1 group by a;
MAX(c)	MIN(c)
9	3
drop table t1;
CREATE TABLE t1 (a int, b int, KEY (a, b desc)) engine=innodb;
insert into t1 values (1, 23), (3, 45), (1, 11), (3, 88), (3, 70), (4, NULL), (1, 14), (4, NULL);
SELECT MIN(b) FROM t1 GROUP BY a;
MIN(b)
11
45
NULL
SELECT MIN(b) FROM t1 WHERE b < 68 GROUP BY a;
MIN(b)
11
45
SELECT MIN(b) FROM t1 WHERE b > 13 GROUP BY a;
MIN(b)
14
45
SELECT MIN(b) FROM t1 WHERE b > 13 AND b < 68 GROUP BY a;
MIN(b)
14
45
SELECT MIN(b) FROM t1 WHERE (b > 47 AND b < 91) OR (b > 11 AND b < 30) GROUP BY a;
MIN(b)
14
70
SELECT MAX(b) FROM t1 GROUP BY a;
MAX(b)
23
88
NULL
SELECT MAX(b) FROM t1 WHERE b < 68 GROUP BY a;
MAX(b)
23
45
SELECT MAX(b) FROM t1 WHERE b > 13 GROUP BY a;
MAX(b)
23
88
SELECT MAX(b) FROM t1 WHERE b > 13 AND b < 68 GROUP BY a;
MAX(b)
23
45
SELECT MAX(b) FROM t1 WHERE (b > 47 AND b < 91) OR (b > 11 AND b < 30) GROUP BY a;
MAX(b)
23
88
insert into t1 values (4, 8);
SELECT MIN(b) FROM t1 GROUP BY a;
MIN(b)
11
45
8
SELECT MIN(b) FROM t1 WHERE b < 68 GROUP BY a;
MIN(b)
11
45
8
SELECT MIN(b) FROM t1 WHERE b > 13 GROUP BY a;
MIN(b)
14
45
SELECT MIN(b) FROM t1 WHERE b > 13 AND b < 68 GROUP BY a;
MIN(b)
14
45
SELECT MIN(b) FROM t1 WHERE (b > 47 AND b < 91) OR (b > 11 AND b < 30) GROUP BY a;
MIN(b)
14
70
SELECT MAX(b) FROM t1 GROUP BY a;
MAX(b)
23
88
8
SELECT MAX(b) FROM t1 WHERE b < 68 GROUP BY a;
MAX(b)
23
45
8
SELECT MAX(b) FROM t1 WHERE b > 13 GROUP BY a;
MAX(b)
23
88
SELECT MAX(b) FROM t1 WHERE b > 13 AND b < 68 GROUP BY a;
MAX(b)
23
45
SELECT MAX(b) FROM t1 WHERE (b > 47 AND b < 91) OR (b > 11 AND b < 30) GROUP BY a;
MAX(b)
23
88
drop table t1;
